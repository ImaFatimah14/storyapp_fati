importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js"),workbox&&(workbox.core.setCacheNameDetails({prefix:"story-app"}),workbox.precaching.precacheAndRoute([{url:"/",revision:null},{url:"/index.html",revision:null},{url:"/offline.html",revision:null},{url:"/app.bundle.js",revision:null},{url:"/icons/icon-192x192.png",revision:null},{url:"/icons/icon-512x512.png",revision:null},{url:"/manifest.json",revision:null}]),workbox.routing.registerRoute((({request:e})=>"image"===e.destination),new workbox.strategies.CacheFirst({cacheName:"story-app-images",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:60,maxAgeSeconds:2592e3})]})),workbox.routing.registerRoute((({url:e})=>"https://story-api.dicoding.dev"===e.origin),new workbox.strategies.NetworkFirst({cacheName:"story-app-api",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:30,maxAgeSeconds:86400})]})),workbox.routing.setCatchHandler((async({event:e})=>"document"===e.request.destination?caches.match("/offline.html"):Response.error()))),self.addEventListener("push",(function(e){let o={};e.data&&(o=e.data.json());const i=o.title||"Notifikasi Baru!",n={body:o.body||"Ada update terbaru di Story App.",icon:"/icons/icon-192x192.png",vibrate:[100,50,100]};e.waitUntil(self.registration.showNotification(i,n))}));